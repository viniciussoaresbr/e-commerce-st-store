(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],[,,,,,,,,,,function(t,e,c){var r={"./arrow-down-icon.svg":23,"./call-of-duty-infinite-warfare.png":24,"./call-of-duty-wwii.png":25,"./cart-icon.svg":11,"./fifa-18.png":26,"./horizon-zero-dawn.png":27,"./iconmonstr-arrow-68.svg":12,"./mortal-kombat-xl.png":28,"./shards-of-darkness.png":29,"./super-mario-odyssey.png":30,"./terra-media-sombras-de-mordor.png":31,"./the-witcher-iii-wild-hunt.png":32};function a(t){var e=n(t);return c(e)}function n(t){if(!c.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=n,t.exports=a,a.id=10},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/cart-icon.f62597cd.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/iconmonstr-arrow-68.52dad76f.svg"},,,,,function(t,e,c){},function(t,e,c){},,function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/arrow-down-icon.5e58fb56.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/call-of-duty-infinite-warfare.83332c2a.png"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/call-of-duty-wwii.9625ebaa.png"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/fifa-18.fde15021.png"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/horizon-zero-dawn.78d27d76.png"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/mortal-kombat-xl.b5fe094d.png"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/shards-of-darkness.81e9316a.png"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/super-mario-odyssey.8bf89689.png"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/terra-media-sombras-de-mordor.b45356a2.png"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/the-witcher-iii-wild-hunt.a6cbe2dc.png"},,function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){"use strict";c.r(e);var r=c(1),a=c.n(r),n=c(6),o=c.n(n),i=(c(17),c(18),c(3)),s=c(4),u=c(0),d=Object(r.createContext)({}),l=function(t){var e=t.children,c=Object(r.useState)([]),a=Object(s.a)(c,2),n=a[0],o=a[1];Object(r.useEffect)((function(){fetch("products.json").then((function(t){return t.json()})).then((function(t){o(t)}))}),[]);return Object(u.jsx)(d.Provider,{value:{products:n,orderProducts:function(t){switch(t){case"alphabeticalOrder":o(Object(i.a)(n.sort((function(t,e){return t.name<e.name?-1:1}))));break;case"reverseAlphabeticalOrder":o(Object(i.a)(n.sort((function(t,e){return t.name<e.name?1:-1}))));break;case"lowerScore":o(Object(i.a)(n.sort((function(t,e){return t.score>e.score?1:-1}))));break;case"higherScore":o(Object(i.a)(n.sort((function(t,e){return t.score>e.score?-1:1}))));break;case"lowerPrice":o(Object(i.a)(n.sort((function(t,e){return t.price<e.price?-1:1}))));break;case"higherPrice":o(Object(i.a)(n.sort((function(t,e){return t.price>e.price?-1:1}))))}}},children:e})},j=(c(20),c(2)),b=Object(r.createContext)({}),O=function(t){var e=t.children,c=Object(r.useReducer)((function(t,e){switch(e.type){case"ADD_PRODUCT_TO_CART":return t.cartProducts.some((function(t){return t.id===e.payload.product.id}))?Object(j.a)(Object(j.a)({},t),{},{cartProducts:t.cartProducts.map((function(t){return t.id===e.payload.product.id?Object(j.a)(Object(j.a)({},t),{},{quantity:t.quantity+1}):t}))}):Object(j.a)(Object(j.a)({},t),{},{cartProducts:[].concat(Object(i.a)(t.cartProducts),[Object(j.a)(Object(j.a)({},e.payload.product),{},{quantity:1})])});case"REMOVE_PRODUCT_FROM_CART":return e.payload.product.quantity>1?Object(j.a)(Object(j.a)({},t),{},{cartProducts:t.cartProducts.map((function(t){return t.id===e.payload.product.id?Object(j.a)(Object(j.a)({},t),{},{quantity:t.quantity-1}):t}))}):Object(j.a)(Object(j.a)({},t),{},{cartProducts:t.cartProducts.filter((function(t){return t.id!==e.payload.product.id}))});case"CALC_SUBTOTAL":return Object(j.a)(Object(j.a)({},t),{},{subtotal:t.cartProducts.reduce((function(t,e){return t+e.price*e.quantity}),0)});case"CALC_SHIPPING":var c=t.cartProducts.reduce((function(t,e){return t+e.quantity}),0);return Object(j.a)(Object(j.a)({},t),{},{shipping:10*c});case"CALC_TOTAL":return t.subtotal<250?Object(j.a)(Object(j.a)({},t),{},{total:t.subtotal+t.shipping}):Object(j.a)(Object(j.a)({},t),{},{total:t.subtotal})}}),{cartProducts:[],shipping:0,subtotal:0,total:0}),a=Object(s.a)(c,2),n=a[0],o=a[1];Object(r.useEffect)((function(){d(),l(),O()}),[n.cartProducts]);var d=function(){return o({type:"CALC_SUBTOTAL"})},l=function(){return o({type:"CALC_SHIPPING"})},O=function(){return o({type:"CALC_TOTAL"})};return Object(u.jsx)(b.Provider,{value:{addProductToCart:function(t){o({type:"ADD_PRODUCT_TO_CART",payload:{product:t}})},removeProductFromCart:function(t){o({type:"REMOVE_PRODUCT_FROM_CART",payload:{product:t}})},state:n},children:e})},f=(c(21),function(t){var e=t.text,c=t.handleClick,r=void 0===c?function(){}:c,a=t.myId;return Object(u.jsx)("button",{id:a,className:"btn",onClick:function(){r()},children:e})}),p=(c(22),c(8)),h=function(t){var e=t.product,a=Object(r.useContext)(b).addProductToCart;return Object(u.jsxs)("div",{className:"product",children:[Object(u.jsx)("img",{alt:"",className:"product__image",src:c(10)("./".concat(e.image)).default}),Object(u.jsxs)("section",{className:"product__info",children:[Object(u.jsx)("h1",{className:"product__title",children:e.name}),Object(u.jsx)("h2",{className:"product__price",children:"R$ ".concat(e.price).replace(".",",")}),Object(u.jsx)("p",{className:"product__score",children:"Pontua\xe7\xe3o: ".concat(e.score)}),Object(u.jsx)(f,{text:"Adicionar ao carrinho",handleClick:function(){a(e),p.b.success("Item adicionado ao carrinho")}})]})]})},m=(c(33),function(){var t=Object(r.useContext)(d).products;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(p.a,{}),Object(u.jsx)("section",{className:"productField",children:t.map((function(t){return Object(u.jsx)(h,{product:t},t.id)}))})]})}),x=(c(34),c(35),function(t){var e=t.cartProduct,a=Object(r.useContext)(b).removeProductFromCart;return Object(u.jsxs)("section",{className:"cartProduct",children:[Object(u.jsx)("img",{alt:"",className:"cartProduct__image",src:c(10)("./".concat(e.image)).default}),Object(u.jsxs)("h1",{className:"cartProduct__quantity",children:[e.quantity,"x"]}),Object(u.jsx)("h1",{className:"cartProduct__title",children:e.name}),Object(u.jsx)("h2",{className:"cartProduct__price",children:"R$ ".concat(e.price).replace(".",",")}),Object(u.jsx)("span",{className:"cartProduct__remove",onClick:function(){a(e)},children:"X"})]})}),_=function(t){var e=t.classCart,a=t.classOverlay,n=t.closeCart,o=void 0===n?function(){}:n,i=Object(r.useContext)(b).state;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:a}),Object(u.jsxs)("section",{className:e,children:[Object(u.jsxs)("header",{className:"cartHeader",children:[Object(u.jsx)("img",{alt:"",className:"cartHeader__closeIcon",src:c(12).default,onClick:function(){o()}}),Object(u.jsx)("h1",{className:"cartHeader__title",children:"Meu Carrinho"})]}),Object(u.jsx)("div",{className:"cartField__products",children:i.cartProducts.map((function(t){return Object(u.jsx)(x,{cartProduct:t},t.id)}))}),Object(u.jsxs)("section",{className:"checkout",children:[Object(u.jsxs)("div",{className:"checkout__info",children:[Object(u.jsx)("h1",{children:"SUBTOTAL: R$ ".concat(i.subtotal.toFixed(2)).replace(".",",")}),Object(u.jsx)("h1",{children:"FRETE:  ".concat(i.subtotal>250?"Gr\xe1tis":"R$ "+i.shipping," ")}),Object(u.jsx)("h1",{children:"TOTAL: R$ ".concat(i.total.toFixed(2)," ").replace(".",",")})]}),Object(u.jsx)(f,{text:"Finalizar Compra",myId:"btn--finish"})]})]})]})},v=(c(36),function(){var t=Object(r.useContext)(b).state,e=Object(r.useState)(!1),a=Object(s.a)(e,2),n=a[0],o=a[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("header",{className:"header",id:t.cartProducts.length>0?"headerPipe--green":"headerPipe--red",children:[Object(u.jsxs)("h1",{className:"header__title",children:["St ",Object(u.jsx)("span",{className:"header__title--red",children:"Store"})]}),Object(u.jsx)("img",{alt:"",className:"header__cart",src:c(11).default,onClick:function(){o(!0)}})]}),Object(u.jsx)(_,{classOverlay:n?"overlay":"overlay--none",classCart:n?"cartField":"cartField--hidden",closeCart:function(){o(!1)}})]})}),P=(c(37),function(){var t=Object(r.useContext)(d).orderProducts;return Object(u.jsx)("section",{className:"order",children:Object(u.jsxs)("select",{defaultValue:"default",name:"select",className:"order__select",onChange:function(e){t(e.target.value)},children:[Object(u.jsx)("option",{value:"default",label:"Ordenar por:",disabled:!0}),Object(u.jsx)("option",{value:"alphabeticalOrder",children:"A - Z"}),Object(u.jsx)("option",{value:"reverseAlphabeticalOrder",children:"Z - A"}),Object(u.jsx)("option",{value:"lowerScore",children:"Menor Pontua\xe7\xe3o"}),Object(u.jsx)("option",{value:"higherScore",children:"Maior Pontua\xe7\xe3o"}),Object(u.jsx)("option",{value:"lowerPrice",children:"Menor Pre\xe7o"}),Object(u.jsx)("option",{value:"higherPrice",children:"Maior Pre\xe7o"})]})})});var g=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(l,{children:Object(u.jsxs)(O,{children:[Object(u.jsx)(v,{}),Object(u.jsx)(P,{}),Object(u.jsx)(m,{})]})})})};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root"))}],[[38,1,2]]]);
//# sourceMappingURL=main.4d2366a2.chunk.js.map