(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],[,,,,,,,,function(e,t,c){var r={"./arrow-down-icon.svg":22,"./call-of-duty-infinite-warfare.png":23,"./call-of-duty-wwii.png":24,"./cart-icon.svg":9,"./fifa-18.png":25,"./horizon-zero-dawn.png":26,"./iconmonstr-arrow-68.svg":10,"./mortal-kombat-xl.png":27,"./shards-of-darkness.png":28,"./super-mario-odyssey.png":29,"./terra-media-sombras-de-mordor.png":30,"./the-witcher-iii-wild-hunt.png":31};function n(e){var t=a(e);return c(t)}function a(e){if(!c.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=a,e.exports=n,n.id=8},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/cart-icon.f62597cd.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/iconmonstr-arrow-68.52dad76f.svg"},,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/arrow-down-icon.5e58fb56.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/call-of-duty-infinite-warfare.83332c2a.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/call-of-duty-wwii.9625ebaa.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/fifa-18.fde15021.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/horizon-zero-dawn.78d27d76.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/mortal-kombat-xl.b5fe094d.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/shards-of-darkness.81e9316a.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/super-mario-odyssey.8bf89689.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/terra-media-sombras-de-mordor.b45356a2.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/the-witcher-iii-wild-hunt.a6cbe2dc.png"},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),a=c(11),i=c.n(a),s=(c(16),c(17),c(2)),o=c(3),u=c(0),d=Object(r.createContext)({}),l=function(e){var t=e.children,c=Object(r.useState)([]),n=Object(o.a)(c,2),a=n[0],i=n[1];Object(r.useEffect)((function(){fetch("products.json").then((function(e){return e.json()})).then((function(e){i(e)}))}),[]);return Object(u.jsx)(d.Provider,{value:{products:a,orderProducts:function(e){switch(e){case"alphabeticalOrder":i(Object(s.a)(a.sort((function(e,t){return e.name<t.name?-1:1}))));break;case"score":i(Object(s.a)(a.sort((function(e,t){return e.score>t.score?-1:1}))));break;case"lowerPrice":i(Object(s.a)(a.sort((function(e,t){return e.price<t.price?-1:1}))));break;case"higherPrice":i(Object(s.a)(a.sort((function(e,t){return e.price>t.price?-1:1}))))}}},children:t})},j=(c(19),c(20),function(e){var t=e.text,c=e.handleClick,r=void 0===c?function(){}:c,n=e.myId;return Object(u.jsx)("button",{id:n,className:"btn",onClick:function(){r()},children:t})}),f=c(7),b=Object(r.createContext)({}),h=function(e){var t=e.children,c=Object(r.useState)([]),n=Object(o.a)(c,2),a=n[0],i=n[1];return Object(u.jsx)(b.Provider,{value:{addProductToCart:function(e){e.quantity=1;var t=a.some((function(t){return t.id===e.id}));i(t?a.map((function(t){return t.id===e.id?Object(f.a)(Object(f.a)({},t),{},{quantity:t.quantity+1}):t})):[].concat(Object(s.a)(a),[e]))},cartProducts:a,removeProductFromCart:function(e){i(a.filter((function(t,c){return e!==c})))},calcSubTotalPrice:function(){return a.reduce((function(e,t){return e+t.price*t.quantity}),0)},calcTotalPrice:function(e,t){return e<250?e+t:e},calcShipping:function(){return 10*a.reduce((function(e,t){return e+t.quantity}),0)}},children:t})},m=(c(21),function(e){var t=e.product,n=Object(r.useContext)(b).addProductToCart;return Object(u.jsxs)("div",{className:"product",children:[Object(u.jsx)("img",{alt:"",className:"product__image",src:c(8)("./".concat(t.image)).default}),Object(u.jsxs)("section",{className:"product__info",children:[Object(u.jsx)("h1",{className:"product__title",children:t.name}),Object(u.jsx)("h2",{className:"product__price",children:"R$ ".concat(t.price)}),Object(u.jsx)("p",{className:"product__score",children:"Pontua\xe7\xe3o: ".concat(t.score)}),Object(u.jsx)(j,{text:"Adicionar ao carrinho",handleClick:function(){n(t)}})]})]})}),O=function(){var e=Object(r.useContext)(d).products;return Object(u.jsx)("section",{className:"productField",children:e.map((function(e){return Object(u.jsx)(m,{product:e},e.id)}))})},p=(c(32),c(33),function(e){var t=e.cartProduct,n=e.index,a=Object(r.useContext)(b).removeProductFromCart;return Object(u.jsxs)("section",{className:"cartProduct",children:[Object(u.jsx)("img",{alt:"",className:"cartProduct__image",src:c(8)("./".concat(t.image)).default}),Object(u.jsxs)("h1",{className:"cartProduct__quantity",children:[t.quantity,"x"]}),Object(u.jsx)("h1",{className:"cartProduct__title",children:t.name}),Object(u.jsx)("h2",{className:"cartProduct__price",children:"R$ ".concat(t.price)}),Object(u.jsx)("span",{className:"cartProduct__remove",onClick:function(){a(n)},children:"X"})]},t.id)}),x=function(e){var t=e.classCart,n=e.classOverlay,a=e.closeCart,i=void 0===a?function(){}:a,s=Object(r.useContext)(b),o=s.cartProducts,d=s.calcSubTotalPrice,l=s.calcTotalPrice,f=s.calcShipping,h=d(),m=f(),O=l(h,m);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:n}),Object(u.jsxs)("section",{className:t,children:[Object(u.jsxs)("header",{className:"cartHeader",children:[Object(u.jsx)("img",{alt:"",className:"cartHeader__closeIcon",src:c(10).default,onClick:function(){i()}}),Object(u.jsx)("h1",{className:"cartHeader__title",children:"Meu Carrinho"})]}),Object(u.jsx)("div",{className:"cartField__products",children:o.map((function(e,t){return Object(u.jsx)(p,{cartProduct:e,index:t})}))}),Object(u.jsxs)("section",{className:"checkout",children:[Object(u.jsxs)("div",{className:"checkout__info",children:[Object(u.jsx)("h1",{children:"SUBTOTAL: R$ ".concat(h.toFixed(2))}),Object(u.jsx)("h1",{children:"FRETE:  ".concat(h>250?"Gr\xe1tis":"R$ "+m," ")}),Object(u.jsx)("h1",{children:"TOTAL: R$ ".concat(O.toFixed(2)," ")})]}),Object(u.jsx)(j,{text:"Finalizar Compra",myId:"btn--finish"})]})]})]})},v=(c(34),function(){var e=Object(r.useContext)(b).cartProducts,t=Object(r.useState)(!1),n=Object(o.a)(t,2),a=n[0],i=n[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("header",{className:"header",id:e.length>0?"headerPipe--green":"headerPipe--red",children:[Object(u.jsxs)("h1",{className:"header__title",children:["St ",Object(u.jsx)("span",{className:"header__title--red",children:"Store"})]}),Object(u.jsx)("img",{alt:"",className:"header__cart",src:c(9).default,onClick:function(){i(!0)}})]}),Object(u.jsx)(x,{classOverlay:a?"overlay":"overlay--none",classCart:a?"cartField":"cartField--hidden",closeCart:function(){i(!1)}})]})}),g=(c(35),function(){var e=Object(r.useContext)(d).orderProducts;return Object(u.jsx)("section",{className:"order",children:Object(u.jsxs)("select",{defaultValue:"default",name:"select",className:"order__select",onChange:function(t){e(t.target.value)},children:[Object(u.jsx)("option",{value:"default",label:"Ordenar por:",disabled:!0}),Object(u.jsx)("option",{value:"alphabeticalOrder",children:"A - Z"}),Object(u.jsx)("option",{value:"score",children:"Pontua\xe7\xe3o"}),Object(u.jsx)("option",{value:"lowerPrice",children:"Menor Pre\xe7o"}),Object(u.jsx)("option",{value:"higherPrice",children:"Maior Pre\xe7o"})]})})});var _=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(l,{children:Object(u.jsxs)(h,{children:[Object(u.jsx)(v,{}),Object(u.jsx)(g,{}),Object(u.jsx)(O,{})]})})})};i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root"))}],[[36,1,2]]]);
//# sourceMappingURL=main.2906f727.chunk.js.map